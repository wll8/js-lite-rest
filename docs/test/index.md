# æµ‹è¯•æ¦‚è§ˆ

js-lite-rest æ‹¥æœ‰å®Œæ•´çš„æµ‹è¯•å¥—ä»¶ï¼Œç¡®ä¿åº“çš„ç¨³å®šæ€§å’Œå¯é æ€§ã€‚æœ¬é¡µé¢æä¾›äº†æµ‹è¯•ç›¸å…³çš„ä¿¡æ¯å’Œèµ„æºã€‚

## ğŸ“Š æµ‹è¯•ç»Ÿè®¡

å½“å‰æµ‹è¯•è¦†ç›–æƒ…å†µï¼š

- **æµ‹è¯•ç”¨ä¾‹æ€»æ•°**: 66 ä¸ª
- **æµ‹è¯•é€šè¿‡ç‡**: 100%
- **ä»£ç è¦†ç›–ç‡**: 95%+
- **æ”¯æŒç¯å¢ƒ**: Node.js + æµè§ˆå™¨

## ğŸ§ª æµ‹è¯•åˆ†ç±»

### åŸºæœ¬æ“ä½œæµ‹è¯•
- âœ… GET åˆ—è¡¨å’Œè¯¦æƒ…
- âœ… POST æ–°å¢æ•°æ®
- âœ… PUT å®Œæ•´æ›´æ–°
- âœ… DELETE åˆ é™¤æ•°æ®
- âœ… PATCH éƒ¨åˆ†æ›´æ–°

### æŸ¥è¯¢åŠŸèƒ½æµ‹è¯•
- âœ… åŸºç¡€è¿‡æ»¤æŸ¥è¯¢
- âœ… å¤šå­—æ®µè¿‡æ»¤
- âœ… åŒå­—æ®µå¤šå€¼è¿‡æ»¤
- âœ… æ·±å±‚å­—æ®µè¿‡æ»¤
- âœ… åˆ†é¡µåŠŸèƒ½
- âœ… æ’åºåŠŸèƒ½
- âœ… æ•°æ®æˆªå–
- âœ… èŒƒå›´æŸ¥è¯¢
- âœ… æ¨¡ç³ŠæŸ¥è¯¢
- âœ… å…¨æ–‡æ£€ç´¢

### å…³ç³»æ“ä½œæµ‹è¯•
- âœ… å…³è”åµŒå…¥ (_embed)
- âœ… å…³è”æ‰©å±• (_expand)
- âœ… åµŒå¥—èµ„æºæ“ä½œ
- âœ… æ‰¹é‡æ“ä½œ

### ä¸­é—´ä»¶ç³»ç»Ÿæµ‹è¯•
- âœ… å‰ç½®æ‹¦æˆªå™¨
- âœ… åç½®æ‹¦æˆªå™¨
- âœ… å¤šä¸ªæ‹¦æˆªå™¨é“¾å¼å¤„ç†
- âœ… æ‹¦æˆªå™¨é”™è¯¯å¤„ç†
- âœ… æ‹¦æˆªå™¨æ•°æ®ä¿®æ”¹
- âœ… æ‹¦æˆªå™¨éªŒè¯åŠŸèƒ½

### é…ç½®é€‰é¡¹æµ‹è¯•
- âœ… é»˜è®¤é…ç½®éªŒè¯
- âœ… è‡ªå®šä¹‰é…ç½®
- âœ… å­˜å‚¨è·¯å¾„é…ç½®
- âœ… è‡ªå®šä¹‰é€‚é…å™¨
- âœ… åŠ è½½å’Œä¿å­˜å‡½æ•°
- âœ… ç¯å¢ƒç‰¹å®šå­˜å‚¨

### æŒä¹…åŒ–æµ‹è¯•
- âœ… æ–‡ä»¶ç³»ç»ŸæŒä¹…åŒ– (Node.js)
- âœ… localStorage æŒä¹…åŒ– (æµè§ˆå™¨)
- âœ… è‡ªå®šä¹‰å­˜å‚¨é€‚é…å™¨

## ğŸ” æŸ¥çœ‹æµ‹è¯•æŠ¥å‘Š

### [å®Œæ•´æµ‹è¯•æŠ¥å‘Š](/test-results/mochawesome-results.html)

æŸ¥çœ‹è¯¦ç»†çš„æµ‹è¯•æ‰§è¡ŒæŠ¥å‘Šï¼ŒåŒ…æ‹¬ï¼š
- æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹çš„æ‰§è¡Œç»“æœ
- æµ‹è¯•æ‰§è¡Œæ—¶é—´ç»Ÿè®¡
- é”™è¯¯å’Œå¤±è´¥è¯¦æƒ…
- ä»£ç è¦†ç›–ç‡æŠ¥å‘Š

[ğŸ“Š æŸ¥çœ‹å®Œæ•´æŠ¥å‘Š](/test-results/mochawesome-results.html)

### æµ‹è¯•ç”¨ä¾‹ç¤ºä¾‹

ä»¥ä¸‹æ˜¯ä¸€äº›å…³é”®æµ‹è¯•ç”¨ä¾‹çš„ç¤ºä¾‹ï¼š

#### åŸºæœ¬ CRUD æ“ä½œæµ‹è¯•

```javascript
describe('åŸºæœ¬æ“ä½œ', () => {
  it('get åˆ—è¡¨', async () => {
    const result = await store.get('posts');
    expect(result).to.be.an('array');
    expect(result.length).to.equal(3);
  });

  it('post æ–°å¢', async () => {
    const newPost = await store.post('posts', {
      title: 'new post',
      author: 'test'
    });
    expect(newPost).to.have.property('id');
    expect(newPost.title).to.equal('new post');
  });

  it('put æ›´æ–°', async () => {
    const updated = await store.put('posts/1', {
      title: 'updated title',
      author: 'updated author'
    });
    expect(updated.title).to.equal('updated title');
  });
});
```

#### æŸ¥è¯¢åŠŸèƒ½æµ‹è¯•

```javascript
describe('æŸ¥è¯¢åŠŸèƒ½', () => {
  it('åŸºç¡€è¿‡æ»¤', async () => {
    const result = await store.get('posts', { author: 'john' });
    expect(result).to.be.an('array');
    result.forEach(post => {
      expect(post.author).to.equal('john');
    });
  });

  it('èŒƒå›´æŸ¥è¯¢', async () => {
    const result = await store.get('posts', {
      views_gte: 100,
      views_lte: 500
    });
    result.forEach(post => {
      expect(post.views).to.be.at.least(100);
      expect(post.views).to.be.at.most(500);
    });
  });

  it('åˆ†é¡µæŸ¥è¯¢', async () => {
    const result = await store.get('posts', {
      _page: 1,
      _limit: 2
    });
    expect(result.length).to.equal(2);
  });
});
```

#### ä¸­é—´ä»¶æµ‹è¯•

```javascript
describe('ä¸­é—´ä»¶åŠŸèƒ½', () => {
  it('å‰ç½®æ‹¦æˆªå™¨', async () => {
    let intercepted = false;
    
    store.use(async (args, next) => {
      intercepted = true;
      return next();
    });
    
    await store.get('posts');
    expect(intercepted).to.be.true;
  });

  it('æ•°æ®éªŒè¯ä¸­é—´ä»¶', async () => {
    store.use(async (args, next) => {
      const [method, path, data] = args;
      if (method === 'post' && !data.title) {
        throw new Error('title is required');
      }
      return next();
    });
    
    try {
      await store.post('posts', { author: 'test' });
      expect.fail('Should have thrown validation error');
    } catch (error) {
      expect(error.message).to.equal('title is required');
    }
  });
});
```

## ğŸš€ è¿è¡Œæµ‹è¯•

### æœ¬åœ°è¿è¡Œæµ‹è¯•

å¦‚æœä½ æƒ³åœ¨æœ¬åœ°è¿è¡Œæµ‹è¯•ï¼š

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/wll8/js-lite-rest.git
cd js-lite-rest

# å®‰è£…ä¾èµ–
pnpm install

# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pnpm test

# è¿è¡Œå¼€å‘æ¨¡å¼æµ‹è¯•
pnpm test:dev

# è¿è¡Œæµè§ˆå™¨ç¯å¢ƒæµ‹è¯•
pnpm test:dev:browser

# è¿è¡Œæ„å»ºåæµ‹è¯•
pnpm test:build
```

### æµ‹è¯•ç¯å¢ƒ

æµ‹è¯•åœ¨ä»¥ä¸‹ç¯å¢ƒä¸­è¿è¡Œï¼š

- **Node.js**: 20+
- **æµè§ˆå™¨**: Chrome, Firefox, Safari, Edge
- **æµ‹è¯•æ¡†æ¶**: Mocha + Chai
- **æ¨¡æ‹Ÿç¯å¢ƒ**: JSDOM (ç”¨äºæµè§ˆå™¨ç¯å¢ƒæµ‹è¯•)

## ğŸ“ˆ æŒç»­é›†æˆ

js-lite-rest ä½¿ç”¨ GitHub Actions è¿›è¡ŒæŒç»­é›†æˆï¼š

- âœ… æ¯æ¬¡æäº¤éƒ½ä¼šè‡ªåŠ¨è¿è¡Œæµ‹è¯•
- âœ… æ”¯æŒå¤šä¸ª Node.js ç‰ˆæœ¬æµ‹è¯•
- âœ… åŒæ—¶æµ‹è¯• Node.js å’Œæµè§ˆå™¨ç¯å¢ƒ
- âœ… è‡ªåŠ¨ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š
- âœ… ä»£ç è¦†ç›–ç‡æ£€æŸ¥

## ğŸ› æŠ¥å‘Šé—®é¢˜

å¦‚æœä½ å‘ç°äº† bug æˆ–æµ‹è¯•é—®é¢˜ï¼š

1. **æ£€æŸ¥ç°æœ‰é—®é¢˜**: å…ˆæŸ¥çœ‹ [GitHub Issues](https://github.com/wll8/js-lite-rest/issues)
2. **åˆ›å»ºæ–°é—®é¢˜**: æä¾›è¯¦ç»†çš„é‡ç°æ­¥éª¤å’Œç¯å¢ƒä¿¡æ¯
3. **æä¾›æµ‹è¯•ç”¨ä¾‹**: å¦‚æœå¯èƒ½ï¼Œæä¾›å¤±è´¥çš„æµ‹è¯•ç”¨ä¾‹

## ğŸ¤ è´¡çŒ®æµ‹è¯•

æ¬¢è¿ä¸º js-lite-rest è´¡çŒ®æµ‹è¯•ç”¨ä¾‹ï¼š

1. **Fork ä»“åº“**
2. **æ·»åŠ æµ‹è¯•ç”¨ä¾‹** åˆ° `test/` ç›®å½•
3. **ç¡®ä¿æµ‹è¯•é€šè¿‡** è¿è¡Œ `pnpm test`
4. **æäº¤ Pull Request**

### æµ‹è¯•ç¼–å†™æŒ‡å—

- ä½¿ç”¨æè¿°æ€§çš„æµ‹è¯•åç§°
- æ¯ä¸ªæµ‹è¯•åº”è¯¥åªæµ‹è¯•ä¸€ä¸ªåŠŸèƒ½ç‚¹
- æä¾›å……åˆ†çš„æ–­è¨€éªŒè¯
- åŒ…å«è¾¹ç•Œæƒ…å†µå’Œé”™è¯¯æƒ…å†µ
- ä¿æŒæµ‹è¯•çš„ç‹¬ç«‹æ€§

## ğŸ“š ç›¸å…³èµ„æº

- [API æ–‡æ¡£](/api/) - äº†è§£æ‰€æœ‰ API çš„è¯¦ç»†è¯´æ˜
- [åœ¨çº¿ç¤ºä¾‹](/demo/) - æŸ¥çœ‹å®é™…ä½¿ç”¨ç¤ºä¾‹
- [GitHub ä»“åº“](https://github.com/wll8/js-lite-rest) - æºä»£ç å’Œé—®é¢˜è·Ÿè¸ª
- [æµ‹è¯•æŠ¥å‘Š](/test-results/mochawesome-results.html) - è¯¦ç»†çš„æµ‹è¯•æ‰§è¡Œç»“æœ

---

<div class="text-center mt-8">
  <p class="text-gray-600 mb-4">
    æµ‹è¯•æ˜¯ä¿è¯ä»£ç è´¨é‡çš„é‡è¦æ‰‹æ®µï¼Œæ„Ÿè°¢ä½ å¯¹æµ‹è¯•çš„å…³æ³¨ï¼
  </p>
  <div class="flex justify-center space-x-4">
    <a href="/test-results/mochawesome-results.html" class="bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 transition-colors">æŸ¥çœ‹æµ‹è¯•æŠ¥å‘Š</a>
    <a href="https://github.com/wll8/js-lite-rest/tree/main/test" class="bg-green-600 text-white px-6 py-2 rounded-md hover:bg-green-700 transition-colors">æŸ¥çœ‹æµ‹è¯•ä»£ç </a>
  </div>
</div>
