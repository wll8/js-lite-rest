# æµ‹è¯•æ–‡ä»¶ç»“æ„è¯´æ˜

æœ¬ç›®å½•åŒ…å«äº† js-lite-rest é¡¹ç›®çš„æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹ã€‚åŸå§‹çš„å•ä¸€å¤§æ–‡ä»¶ `base.test.js` (2445è¡Œ) å·²ç»è¢«æ‹†åˆ†ä¸ºå¤šä¸ªåŠŸèƒ½æ¨¡å—ï¼Œä»¥æé«˜ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå¯è¯»æ€§ã€‚

## ğŸ“ æ–‡ä»¶ç»“æ„

```
test/
â”œâ”€â”€ README.md                    # æœ¬è¯´æ˜æ–‡ä»¶
â”œâ”€â”€ base.test.js                 # ä¸»å…¥å£æ–‡ä»¶ï¼Œå¯¼å…¥æ‰€æœ‰æµ‹è¯•æ¨¡å—
â”œâ”€â”€ test-utils.js                # å…±äº«çš„æµ‹è¯•å·¥å…·å‡½æ•°
â”œâ”€â”€ test.js                      # æµ‹è¯•è¿è¡Œå™¨ï¼ˆä¿æŒä¸åŸé¡¹ç›®å…¼å®¹ï¼‰
â””â”€â”€ modules/                     # æµ‹è¯•æ¨¡å—ç›®å½•
    â”œâ”€â”€ basic.test.js            # åŸºæœ¬æ“ä½œæµ‹è¯• (get, post, put, delete, patch)
    â”œâ”€â”€ filter.test.js           # è¿‡æ»¤åŠŸèƒ½æµ‹è¯•
    â”œâ”€â”€ pagination.test.js       # åˆ†é¡µåŠŸèƒ½æµ‹è¯•
    â”œâ”€â”€ sort.test.js             # æ’åºåŠŸèƒ½æµ‹è¯•
    â”œâ”€â”€ slice.test.js            # æˆªå–åŠŸèƒ½æµ‹è¯• (_start, _end, _limit)
    â”œâ”€â”€ operators.test.js        # è¿ç®—æŸ¥è¯¢æµ‹è¯• (gte, lte, ne, like)
    â”œâ”€â”€ search.test.js           # å…¨æ–‡æ£€ç´¢æµ‹è¯• (_q)
    â”œâ”€â”€ relations.test.js        # å…³ç³»æŸ¥è¯¢æµ‹è¯• (_embed, _expand)
    â”œâ”€â”€ nested.test.js           # åµŒå¥—èµ„æºæµ‹è¯•
    â”œâ”€â”€ batch.test.js            # æ‰¹é‡æ“ä½œæµ‹è¯•
    â”œâ”€â”€ middleware.test.js       # æ‹¦æˆªå™¨åŠŸèƒ½æµ‹è¯•
    â”œâ”€â”€ errors.test.js           # é”™è¯¯å¤„ç†æµ‹è¯•
    â”œâ”€â”€ config.test.js           # é…ç½®é€‰é¡¹æµ‹è¯•
    â”œâ”€â”€ advanced.test.js         # é«˜çº§åŠŸèƒ½æµ‹è¯• (kvæ¨¡å¼, infoæ¨¡å¼, æ•°ç»„é¡¹ç®¡ç†)
    â””â”€â”€ environment.test.js      # ç¯å¢ƒç‰¹å®šæµ‹è¯• (Node.js/æµè§ˆå™¨)
```

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### è¿è¡Œæ‰€æœ‰æµ‹è¯•

```bash
npm test
```

### è¿è¡Œç‰¹å®šç¯å¢ƒçš„æµ‹è¯•

```bash
# Node.js ç¯å¢ƒ
npm run test:dev:node

# æµè§ˆå™¨ç¯å¢ƒ
npm run test:dev:browser

# æ„å»ºç‰ˆæœ¬æµ‹è¯•
npm run test:build
npm run test:build:browser
```

### é€‰æ‹©æ€§è¿è¡Œæµ‹è¯•æ¨¡å—

å¦‚æœéœ€è¦è¿è¡Œç‰¹å®šçš„æµ‹è¯•æ¨¡å—ï¼Œå¯ä»¥åœ¨ä»£ç ä¸­å¯¼å…¥å¯¹åº”çš„æµ‹è¯•å‡½æ•°ï¼š

```javascript
import { testBasicOperations, testFilterOperations } from './base.test.js';

// åªè¿è¡ŒåŸºæœ¬æ“ä½œå’Œè¿‡æ»¤æµ‹è¯•
testBasicOperations(JsLiteRest, options);
testFilterOperations(JsLiteRest, options);
```

## ğŸ“‹ æµ‹è¯•æ¨¡å—è¯´æ˜

### æ ¸å¿ƒåŠŸèƒ½æµ‹è¯•

- **basic.test.js**: æµ‹è¯•åŸºç¡€çš„ CRUD æ“ä½œ
- **filter.test.js**: æµ‹è¯•å„ç§è¿‡æ»¤æŸ¥è¯¢åŠŸèƒ½
- **pagination.test.js**: æµ‹è¯•åˆ†é¡µåŠŸèƒ½
- **sort.test.js**: æµ‹è¯•æ’åºåŠŸèƒ½
- **slice.test.js**: æµ‹è¯•æ•°æ®æˆªå–åŠŸèƒ½

### é«˜çº§æŸ¥è¯¢æµ‹è¯•

- **operators.test.js**: æµ‹è¯•è¿ç®—ç¬¦æŸ¥è¯¢ (èŒƒå›´ã€æ’é™¤ã€æ¨¡ç³ŠåŒ¹é…ç­‰)
- **search.test.js**: æµ‹è¯•å…¨æ–‡æ£€ç´¢åŠŸèƒ½
- **relations.test.js**: æµ‹è¯•å…³ç³»æŸ¥è¯¢ (_embed, _expand)
- **nested.test.js**: æµ‹è¯•åµŒå¥—èµ„æºæ“ä½œ

### æ‰©å±•åŠŸèƒ½æµ‹è¯•

- **batch.test.js**: æµ‹è¯•æ‰¹é‡æ“ä½œ
- **middleware.test.js**: æµ‹è¯•æ‹¦æˆªå™¨ä¸­é—´ä»¶
- **errors.test.js**: æµ‹è¯•é”™è¯¯å¤„ç†æœºåˆ¶
- **config.test.js**: æµ‹è¯•é…ç½®é€‰é¡¹å’Œåˆå§‹åŒ–

### é«˜çº§åŠŸèƒ½æµ‹è¯•

- **advanced.test.js**: æµ‹è¯• kv æ¨¡å¼ã€info æ¨¡å¼ã€æ•°ç»„é¡¹ç®¡ç†ç­‰é«˜çº§åŠŸèƒ½
- **environment.test.js**: æµ‹è¯•ç¯å¢ƒç‰¹å®šåŠŸèƒ½ (Node.js æ–‡ä»¶å­˜å‚¨ / æµè§ˆå™¨ localStorage)

## ğŸ› ï¸ å…±äº«å·¥å…·

`test-utils.js` æä¾›äº†æ‰€æœ‰æµ‹è¯•æ¨¡å—å…±äº«çš„å·¥å…·å‡½æ•°ï¼š

- `readStorageData()`: è¯»å–å­˜å‚¨æ•°æ®
- `cleanStorageData()`: æ¸…ç†å­˜å‚¨æ•°æ®
- `createBasicTestData()`: åˆ›å»ºåŸºç¡€æµ‹è¯•æ•°æ®
- `createComplexTestData()`: åˆ›å»ºå¤æ‚æµ‹è¯•æ•°æ®
- `generateTestPath()`: ç”Ÿæˆå”¯ä¸€æµ‹è¯•è·¯å¾„
- `createTestStore()`: åˆ›å»ºå¸¦æ¸…ç†åŠŸèƒ½çš„æµ‹è¯•å­˜å‚¨

## ğŸ“Š æµ‹è¯•è¦†ç›–èŒƒå›´

æ‹†åˆ†åçš„æµ‹è¯•è¦†ç›–äº†ä»¥ä¸‹åŠŸèƒ½æ¨¡å—ï¼š

1. **åŸºç¡€ CRUD æ“ä½œ** - å¢åˆ æ”¹æŸ¥åŸºæœ¬åŠŸèƒ½
2. **æŸ¥è¯¢åŠŸèƒ½** - è¿‡æ»¤ã€åˆ†é¡µã€æ’åºã€æˆªå–
3. **é«˜çº§æŸ¥è¯¢** - è¿ç®—ç¬¦ã€å…¨æ–‡æ£€ç´¢ã€å…³ç³»æŸ¥è¯¢
4. **æ•°æ®æ“ä½œ** - æ‰¹é‡æ“ä½œã€åµŒå¥—èµ„æº
5. **ä¸­é—´ä»¶** - æ‹¦æˆªå™¨ã€é”™è¯¯å¤„ç†
6. **é…ç½®ç®¡ç†** - åˆå§‹åŒ–ã€é…ç½®é€‰é¡¹
7. **é«˜çº§åŠŸèƒ½** - kv æ¨¡å¼ã€info æ¨¡å¼
8. **ç¯å¢ƒé€‚é…** - Node.js/æµè§ˆå™¨ç‰¹å®šåŠŸèƒ½

## ğŸ”„ å‘åå…¼å®¹æ€§

æ–°çš„æµ‹è¯•ç»“æ„å®Œå…¨å‘åå…¼å®¹ï¼š

- åŸæœ‰çš„ `test.js` è¿è¡Œå™¨ä¿æŒä¸å˜
- `testMain()`, `testNodeStoreBasic()`, `testBrowserStore()` å‡½æ•°ç»§ç»­å¯ç”¨
- æ‰€æœ‰åŸæœ‰çš„æµ‹è¯•ç”¨ä¾‹éƒ½è¢«ä¿ç•™

## ğŸ“ˆ ä¼˜åŠ¿

æ‹†åˆ†åçš„æµ‹è¯•ç»“æ„å…·æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š

1. **å¯ç»´æŠ¤æ€§**: æ¯ä¸ªæ–‡ä»¶ä¸“æ³¨äºå•ä¸€åŠŸèƒ½æ¨¡å—
2. **å¯è¯»æ€§**: å‡å°‘å•ä¸ªæ–‡ä»¶çš„å¤æ‚åº¦
3. **åä½œæ€§**: å›¢é˜Ÿæˆå‘˜å¯ä»¥å¹¶è¡Œå¼€å‘ä¸åŒæ¨¡å—
4. **è°ƒè¯•æ•ˆç‡**: å¿«é€Ÿå®šä½é—®é¢˜æ‰€åœ¨çš„æ¨¡å—
5. **æ‰©å±•æ€§**: æ–°å¢åŠŸèƒ½æ—¶åªéœ€æ·»åŠ å¯¹åº”æ¨¡å—æ–‡ä»¶
6. **é€‰æ‹©æ€§æ‰§è¡Œ**: å¯ä»¥åªè¿è¡Œç›¸å…³çš„æµ‹è¯•æ¨¡å—

## ğŸ› æ•…éšœæ’é™¤

å¦‚æœé‡åˆ°æµ‹è¯•å¤±è´¥ï¼š

1. æ£€æŸ¥æ˜¯å¦æœ‰è¯­æ³•é”™è¯¯æˆ–å¯¼å…¥é—®é¢˜
2. ç¡®ä¿æ‰€æœ‰ä¾èµ–æ¨¡å—æ­£ç¡®å®‰è£…
3. æ£€æŸ¥æµ‹è¯•æ•°æ®æ˜¯å¦æ­£ç¡®æ¸…ç†
4. éªŒè¯ç¯å¢ƒé…ç½®æ˜¯å¦æ­£ç¡®

## ğŸ“ æ›´æ–°æ—¥å¿—

- **v1.0.0**: å®Œæˆæµ‹è¯•æ–‡ä»¶æ‹†åˆ†ï¼Œä»å•ä¸ª 2445 è¡Œæ–‡ä»¶æ‹†åˆ†ä¸º 16 ä¸ªåŠŸèƒ½æ¨¡å—
- ä¿æŒäº†æ‰€æœ‰åŸæœ‰æµ‹è¯•ç”¨ä¾‹çš„å®Œæ•´æ€§
- æ·»åŠ äº†è¯¦ç»†çš„æ–‡æ¡£è¯´æ˜
- æä¾›äº†æ›´å¥½çš„ä»£ç ç»„ç»‡ç»“æ„